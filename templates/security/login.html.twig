{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}
{% block header %}{% endblock %}

{% block body %}
<form method="post" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md mt-8">
    {% if error %}
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}

    {% if app.user %}
        <div class="mb-3 text-gray-700 text-sm">
            Vous êtes connecté en tant que {{ app.user.userIdentifier }}, 
        </div>
    {% endif %}

    <h1 class="text-2xl font-semibold text-center text-gray-800 mb-6">Veuillez vous connecter</h1>

    <div class="mb-4">
        <label for="inputLogin" class="block text-gray-700 font-medium mb-2">Identifiant</label>
        <input type="text" value="{{ last_username }}" name="login" id="inputLogin" 
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" 
               autocomplete="username" required autofocus>
    </div>

    <div class="mb-6">
        <label for="inputPassword" class="block text-gray-700 font-medium mb-2">Mot de passe</label>
        <input type="password" name="password" id="inputPassword" 
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" 
               autocomplete="current-password" required>
    </div>

    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

    <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-500 transition duration-300 font-medium shadow-md">
        Connexion
    </button>
</form>

{% endblock %}
